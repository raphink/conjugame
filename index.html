<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeux de Conjugaison Fran√ßaise</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="styles.css" rel="stylesheet">
    <!-- jQuery and Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>
<body class="home">
    <div class="home-container">
        <div class="flag-colors"></div>
        <div class="header">
            <h1 class="title" data-translate="gameTitle">Jeu de Conjugaison Fran√ßaise</h1>
            <p class="subtitle" data-translate="gameSubtitle">Am√©liorez votre ma√Ætrise des conjugaisons fran√ßaises en jouant</p>
        </div>
        
        <div class="language-selector-container text-end">
            <div class="language-flags">
                <div class="language-flag" data-lang="fr" title="Fran√ßais">üá´üá∑</div>
                <div class="language-flag" data-lang="es" title="Espa√±ol">üá™üá∏</div>
                <div class="language-flag" data-lang="it" title="Italiano">üáÆüáπ</div>
            </div>
        </div>

        <div class="mode-cards">
            <!-- Mode 1: Identifier la forme -->
            <div class="mode-card card">
                <div class="card-header identifier-header">
                    <span data-translate="identifyForm">Mode: Identifier la Forme</span>
                </div>
                <div class="card-body">
                    <div class="card-description">
                        <p data-translate="identifyDescription">Une forme verbale vous est pr√©sent√©e, et vous devez identifier :</p>
                        <ul>
                            <li data-translate="identifyDescriptionPerson">La personne (je, tu, il/elle...)</li>
                            <li data-translate="identifyDescriptionMood">Le mode (indicatif, subjonctif...)</li>
                            <li data-translate="identifyDescriptionTense">Le temps (pr√©sent, imparfait...)</li>
                        </ul>
                    </div>
                    <div class="card-action">
                        <a href="identify.html" class="btn btn-primary btn-play" data-translate="play">Jouer</a>
                    </div>
                </div>
            </div>

            <!-- Mode 2: Choisir la conjugaison -->
            <div class="mode-card card">
                <div class="card-header choisir-header">
                    <span data-translate="chooseForm">Mode: Choisir la Conjugaison</span>
                </div>
                <div class="card-body">
                    <div class="card-description">
                        <p data-translate="chooseDescription">Le verbe √† l'infinitif et la forme demand√©e sont affich√©s, et vous devez choisir la conjugaison correcte parmi plusieurs propositions.</p>
                        <p data-translate="chooseDescriptionAbility">Testez votre capacit√© √† reconna√Ætre la bonne forme verbale.</p>
                    </div>
                    <div class="card-action">
                        <a href="choose.html" class="btn btn-success btn-play" data-translate="play">Jouer</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p data-translate="footerDescription">Jeu d√©velopp√© pour apprendre la conjugaison de mani√®re interactive et ludique.</p>
            <p data-translate="footerDifficulty">Utilisez les trois niveaux de difficult√© pour progresser √† votre rythme.</p>
        </div>
    </div>

    <!-- JavaScript files -->
    <script src="common.js"></script>
    <script src="languageFlags.js"></script>
    <script>
        // Initialize the application when the DOM is fully loaded
        $(document).ready(async function() {
            // Initialize settings from URL parameters
            initializeSettings();
            
            // Translate the UI
            await translateUI();
            
            // Update URL parameters for any links
            $('a').each(function() {
                const href = $(this).attr('href');
                if (href && href.includes('.html') && !href.includes('?')) {
                    $(this).attr('href', href + '?lang=' + lang);
                }
            });
        });
    </script>
</body>
</html>